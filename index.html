<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zikirmatik Pro - Dijital Tesbih & Takip</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #FAFAFA;
            --bg-secondary: #FFFFFF;
            --text-primary: #1A1A1A;
            --text-secondary: #666666;
            --accent: #2D5F3F;
            --accent-light: #4A8C5F;
            --accent-glow: rgba(45, 95, 63, 0.15);
            --border: #E5E5E5;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
            --radius: 24px;
            --danger: #DC2626;
            --warning: #F59E0B;
            --success: #10B981;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 30%, var(--accent-glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(45, 95, 63, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
            animation: floatPattern 60s ease-in-out infinite;
        }

        @keyframes floatPattern {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-5%, 5%) rotate(3deg); }
            66% { transform: translate(5%, -5%) rotate(-3deg); }
        }

        header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid var(--border);
            padding: 1.25rem 1.5rem;
            z-index: 100;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(20px);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .logo {
            font-family: 'Crimson Pro', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            letter-spacing: -0.02em;
        }

        .hamburger {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 5px;
            transition: transform 0.3s ease;
        }

        .hamburger:hover {
            transform: scale(1.05);
        }

        .hamburger.active {
            transform: rotate(90deg);
        }

        .hamburger span {
            width: 24px;
            height: 2.5px;
            background: var(--text-primary);
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        main {
            max-width: 600px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
            position: relative;
            z-index: 1;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ZIKIR PAGE */
        .zikir-display {
            text-align: center;
            margin-bottom: 3rem;
        }

        .zikir-name {
            font-family: 'Crimson Pro', serif;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1.3;
            letter-spacing: -0.01em;
        }

        .zikir-details {
            margin-bottom: 1.5rem;
        }

        .zikir-reading {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 0.75rem;
            font-style: italic;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border-left: 3px solid var(--accent);
        }

        .zikir-meaning {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            padding: 1rem;
            background: rgba(45, 95, 63, 0.05);
            border-radius: 12px;
        }

        .count-display {
            font-size: 4rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-variant-numeric: tabular-nums;
            line-height: 1;
            text-shadow: 0 2px 8px var(--accent-glow);
        }

        .target-info {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border-radius: 4px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 8px var(--accent-glow);
        }

        .progress-text {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-align: center;
        }

        .counter-button {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            border: none;
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
            cursor: pointer;
            margin: 2rem auto;
            display: block;
            box-shadow: 
                var(--shadow-lg),
                0 0 40px var(--accent-glow),
                inset 0 -4px 16px rgba(0, 0, 0, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .counter-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .counter-button:active::before {
            width: 300px;
            height: 300px;
        }

        .counter-button:active {
            transform: scale(0.95);
            box-shadow: 
                var(--shadow-md),
                0 0 20px var(--accent-glow),
                inset 0 -2px 8px rgba(0, 0, 0, 0.2);
        }

        .counter-button:hover {
            transform: scale(1.05);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.15),
                0 0 60px var(--accent-glow);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 3rem;
        }

        .stat-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 500;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            font-variant-numeric: tabular-nums;
        }

        /* CALENDAR PAGE */
        .calendar-section {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 16px;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
        }

        .calendar-title {
            font-family: 'Crimson Pro', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .countdown-item {
            text-align: center;
            padding: 1rem;
            background: var(--bg-primary);
            border-radius: 12px;
        }

        .countdown-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        .countdown-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent);
            font-variant-numeric: tabular-nums;
        }

        .countdown-unit {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* MEMORIAL PAGE */
        .memorial-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .memorial-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            position: relative;
        }

        .memorial-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .memorial-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .memorial-date {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .memorial-elapsed {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .elapsed-item {
            text-align: center;
        }

        .elapsed-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
        }

        .elapsed-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        /* FINANCE PAGE */
        .job-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .job-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .job-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            background: var(--success);
            color: white;
        }

        .job-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .job-stat {
            background: var(--bg-primary);
            padding: 1rem;
            border-radius: 12px;
        }

        .job-stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .job-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
        }

        /* SIDE MENU */
        .side-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 90%;
            max-width: 400px;
            height: 100vh;
            background: var(--bg-secondary);
            box-shadow: -4px 0 32px rgba(0, 0, 0, 0.1);
            z-index: 200;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }

        .side-menu.active {
            right: 0;
        }

        .menu-header {
            padding: 2rem 1.5rem 1.5rem;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            background: var(--bg-secondary);
            z-index: 10;
        }

        .menu-title {
            font-family: 'Crimson Pro', serif;
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        .menu-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .menu-content {
            padding: 1.5rem;
        }

        .menu-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 1rem;
        }

        .menu-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .nav-item {
            padding: 1rem 1.25rem;
            background: var(--bg-primary);
            border: 2px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 500;
        }

        .nav-item:hover {
            border-color: var(--accent-light);
            transform: translateX(4px);
        }

        .nav-item.active {
            border-color: var(--accent);
            background: linear-gradient(135deg, rgba(45, 95, 63, 0.05), rgba(74, 140, 95, 0.05));
        }

        .zikir-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .zikir-item {
            background: var(--bg-primary);
            padding: 1.25rem;
            border-radius: 12px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .zikir-item:hover {
            border-color: var(--accent-light);
            transform: translateX(4px);
        }

        .zikir-item.active {
            border-color: var(--accent);
            background: linear-gradient(135deg, rgba(45, 95, 63, 0.05), rgba(74, 140, 95, 0.05));
        }

        .zikir-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .zikir-item-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1rem;
            flex: 1;
        }

        .zikir-item-count {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            font-variant-numeric: tabular-nums;
        }

        .zikir-item-progress {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .zikir-item-bar {
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 0.75rem;
        }

        .zikir-item-bar-fill {
            height: 100%;
            background: var(--accent);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .zikir-item-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .btn-small {
            padding: 0.4rem 0.75rem;
            font-size: 0.8rem;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-light);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-primary);
            border-color: var(--accent);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #B91C1C;
        }

        .add-zikir-form, .add-memorial-form, .add-job-form {
            background: var(--bg-primary);
            padding: 1.25rem;
            border-radius: 12px;
            border: 2px dashed var(--border);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        .form-textarea {
            resize: vertical;
            min-height: 60px;
        }

        .settings-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .setting-item {
            background: var(--bg-primary);
            padding: 1rem 1.25rem;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .setting-label {
            font-size: 0.95rem;
            color: var(--text-primary);
        }

        .toggle {
            position: relative;
            width: 48px;
            height: 24px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--border);
            transition: 0.3s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background: white;
            transition: 0.3s;
            border-radius: 50%;
        }

        .toggle input:checked + .toggle-slider {
            background: var(--accent);
        }

        .toggle input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 300;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--bg-secondary);
            padding: 2rem;
            border-radius: var(--radius);
            max-width: 400px;
            width: 90%;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .modal-text {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .modal-actions {
            display: flex;
            gap: 0.75rem;
        }

        .modal-actions .btn {
            flex: 1;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(2px);
            z-index: 150;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            display: block;
        }

        .search-box {
            margin-bottom: 1rem;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text-primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 400;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 90%;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        @media (max-width: 480px) {
            .count-display {
                font-size: 3.5rem;
            }

            .counter-button {
                width: 180px;
                height: 180px;
            }

            .zikir-name {
                font-size: 1.5rem;
            }

            .stats-grid, .countdown-grid, .job-stats {
                grid-template-columns: 1fr;
            }

            .memorial-elapsed {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">Zikirmatik Pro</div>
            <button class="hamburger" id="menuToggle" aria-label="Men√º">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <main>
        <!-- ZIKIR PAGE -->
        <div class="page active" id="zikirPage">
            <div class="zikir-display">
                <h1 class="zikir-name" id="currentZikirName">ƒ∞HLAS-I ≈ûERƒ∞F</h1>
                
                <div class="zikir-details" id="zikirDetails">
                    <div class="zikir-reading" id="zikirReading"></div>
                    <div class="zikir-meaning" id="zikirMeaning"></div>
                </div>
                
                <div class="count-display" id="currentCount">0</div>
                <div class="target-info">
                    Hedef: <span id="currentTarget">40000</span> | 
                    Kalan: <span id="remaining">40000</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="progressText">%0 tamamlandƒ±</div>
            </div>

            <button class="counter-button" id="counterButton">
                Zikir Say
            </button>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Bug√ºn</div>
                    <div class="stat-value" id="todayCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Toplam</div>
                    <div class="stat-value" id="totalCount">0</div>
                </div>
            </div>
        </div>

        <!-- CALENDAR PAGE -->
        <div class="page" id="calendarPage">
            <div class="calendar-section">
                <h2 class="calendar-title">üåô ƒ∞slami Takvim</h2>
                
                <div class="calendar-section" style="background: rgba(45, 95, 63, 0.05);">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--accent);">üïå √ú√ß Aylar</h3>
                    <div class="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-label">Ba≈ülangƒ±√ß</div>
                            <div style="font-size: 0.9rem; color: var(--text-primary); margin-top: 0.5rem;">
                                <span id="threeMonthsStart">-</span>
                            </div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-label">Biti≈ü</div>
                            <div style="font-size: 0.9rem; color: var(--text-primary); margin-top: 0.5rem;">
                                <span id="threeMonthsEnd">-</span>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; padding: 1rem; background: var(--bg-secondary); border-radius: 12px;">
                        <div class="countdown-label">Durum</div>
                        <div id="threeMonthsStatus" style="font-size: 1.25rem; font-weight: 700; color: var(--accent); margin-top: 0.5rem;">-</div>
                    </div>
                </div>

                <div class="calendar-section">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--accent);">üåü Ramazan</h3>
                    <div class="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-label">G√ºn</div>
                            <div class="countdown-value" id="ramadanDays">-</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-label">Ay</div>
                            <div class="countdown-value" id="ramadanMonths">-</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-secondary);">
                        Ba≈ülangƒ±√ß: <span id="ramadanStartDate">-</span>
                    </div>
                </div>

                <div class="calendar-section">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--accent);">üïã Ramazan Bayramƒ±</h3>
                    <div class="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-label">G√ºn</div>
                            <div class="countdown-value" id="eidFitrDays">-</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-label">Ay</div>
                            <div class="countdown-value" id="eidFitrMonths">-</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-secondary);">
                        Tarih: <span id="eidFitrDate">-</span>
                    </div>
                </div>

                <div class="calendar-section">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: var(--accent);">üêë Kurban Bayramƒ±</h3>
                    <div class="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-label">G√ºn</div>
                            <div class="countdown-value" id="eidAdahDays">-</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-label">Ay</div>
                            <div class="countdown-value" id="eidAdahMonths">-</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-secondary);">
                        Tarih: <span id="eidAdahDate">-</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- MEMORIAL PAGE -->
        <div class="page" id="memorialPage">
            <div class="calendar-section">
                <h2 class="calendar-title">üïäÔ∏è Vefat Sayacƒ±</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Sevdiklerinizi anmak i√ßin vefat tarihlerini kaydedin.</p>
                
                <div class="memorial-list" id="memorialList"></div>

                <div class="add-memorial-form" style="margin-top: 1.5rem;">
                    <div class="form-group">
                        <label class="form-label">ƒ∞sim</label>
                        <input type="text" class="form-input" id="memorialName" placeholder="√ñrn: Annem">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Vefat Tarihi</label>
                        <input type="datetime-local" class="form-input" id="memorialDate">
                    </div>
                    <button class="btn btn-primary" id="addMemorialBtn" style="width: 100%;">Ekle</button>
                </div>
            </div>
        </div>

        <!-- FINANCE PAGE -->
        <div class="page" id="financePage">
            <div class="calendar-section">
                <h2 class="calendar-title">üí∞ Gelir Takibi</h2>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">ƒ∞≈ülerinizi ve kazancƒ±nƒ±zƒ± takip edin.</p>
                
                <div id="jobsList"></div>

                <div class="add-job-form" style="margin-top: 1.5rem;">
                    <h3 style="margin-bottom: 1rem; font-size: 1.1rem;">Yeni ƒ∞≈ü Ekle</h3>
                    <div class="form-group">
                        <label class="form-label">ƒ∞≈ü Adƒ±</label>
                        <input type="text" class="form-input" id="jobName" placeholder="√ñrn: Kafe Garsonluƒüu">
                    </div>
                    <div class="form-group">
                        <label class="form-label">G√ºnl√ºk Kazan√ß (‚Ç∫)</label>
                        <input type="number" class="form-input" id="jobDailyPay" placeholder="500">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Haftalƒ±k √áalƒ±≈üma G√ºn√º</label>
                        <input type="number" class="form-input" id="jobWorkDays" placeholder="6" min="1" max="7">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ƒ∞≈üe Ba≈ülama Tarihi</label>
                        <input type="date" class="form-input" id="jobStartDate">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hedef Birikim (‚Ç∫) - ƒ∞steƒüe Baƒülƒ±</label>
                        <input type="number" class="form-input" id="jobSavingGoal" placeholder="10000">
                    </div>
                    <button class="btn btn-primary" id="addJobBtn" style="width: 100%;">ƒ∞≈ü Ekle</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <h2 class="menu-title">Men√º</h2>
            <p class="menu-subtitle">T√ºm √∂zelliklere buradan ula≈üƒ±n</p>
        </div>
        <div class="menu-content">
            <!-- Navigation -->
            <div class="menu-section">
                <h3 class="section-title">Sayfalar</h3>
                <div class="menu-nav">
                    <div class="nav-item active" data-page="zikirPage">
                        <span>üìø</span>
                        <span>Zikirmatik</span>
                    </div>
                    <div class="nav-item" data-page="calendarPage">
                        <span>üìÖ</span>
                        <span>ƒ∞slami Takvim</span>
                    </div>
                    <div class="nav-item" data-page="memorialPage">
                        <span>üïäÔ∏è</span>
                        <span>Vefat Sayacƒ±</span>
                    </div>
                    <div class="nav-item" data-page="financePage">
                        <span>üí∞</span>
                        <span>Gelir Takibi</span>
                    </div>
                </div>
            </div>

            <!-- Zikir List (only shown when on zikir page) -->
            <div class="menu-section" id="zikirListSection">
                <h3 class="section-title">Zikirlerim</h3>
                <input type="text" class="form-input search-box" id="searchBox" placeholder="üîç Zikir ara...">
                <div class="zikir-list" id="zikirList"></div>
            </div>

            <!-- Add New Zikir -->
            <div class="menu-section" id="addZikirSection">
                <h3 class="section-title">Yeni Zikir Ekle</h3>
                <div class="add-zikir-form">
                    <div class="form-group">
                        <label class="form-label">Zikir Adƒ±</label>
                        <input type="text" class="form-input" id="newZikirName" placeholder="√ñrn: Subhanallah">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hedef Sayƒ±</label>
                        <input type="number" class="form-input" id="newZikirTarget" placeholder="1000" value="1000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Okunu≈üu (ƒ∞steƒüe Baƒülƒ±)</label>
                        <textarea class="form-input" id="newZikirReading" placeholder="T√ºrk√ße okunu≈ü..." rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Anlamƒ± (ƒ∞steƒüe Baƒülƒ±)</label>
                        <textarea class="form-input" id="newZikirMeaning" placeholder="T√ºrk√ße anlamƒ±..." rows="2"></textarea>
                    </div>
                    <button class="btn btn-primary" id="addZikirBtn" style="width: 100%;">Ekle</button>
                </div>
            </div>

            <!-- Settings -->
            <div class="menu-section">
                <h3 class="section-title">Ayarlar</h3>
                <div class="settings-list">
                    <div class="setting-item">
                        <span class="setting-label">Titre≈üim</span>
                        <label class="toggle">
                            <input type="checkbox" id="vibrationToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Data Management -->
            <div class="menu-section">
                <h3 class="section-title">Veri Y√∂netimi</h3>
                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                    <button class="btn btn-secondary" id="exportBtn">üì• Verileri Dƒ±≈üa Aktar</button>
                    <div class="file-input-wrapper">
                        <button class="btn btn-secondary" style="width: 100%;">üì§ Verileri ƒ∞√ße Aktar</button>
                        <input type="file" id="importFile" accept=".json">
                    </div>
                    <button class="btn btn-danger" id="resetAllBtn">üóëÔ∏è T√ºm Verileri Sƒ±fƒ±rla</button>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <h3 class="modal-title" id="modalTitle">Emin misiniz?</h3>
            <p class="modal-text" id="modalText">Bu i≈ülem geri alƒ±namaz.</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="modalCancel">ƒ∞ptal</button>
                <button class="btn btn-danger" id="modalConfirm">Onayla</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        class ZikirmatikApp {
            constructor() {
                this.currentPage = 'zikirPage';
                this.currentZikirId = null;
                this.zikirler = [];
                this.memorials = [];
                this.jobs = [];
                this.settings = {
                    vibration: true
                };
                this.dailyStats = {};
                
                this.init();
            }

            init() {
                this.loadData();
                this.setupEventListeners();
                this.updateUI();
                this.updateStats();
                this.updateCalendar();
                this.updateMemorials();
                this.updateJobs();
                
                // Update memorials every minute
                setInterval(() => {
                    this.updateMemorials();
                }, 60000);

                // Update calendar every hour
                setInterval(() => {
                    this.updateCalendar();
                }, 3600000);

                // Update jobs every day
                setInterval(() => {
                    this.updateJobs();
                }, 86400000);
            }

            loadData() {
                const saved = localStorage.getItem('zikirmatik_pro_data');
                if (saved) {
                    const data = JSON.parse(saved);
                    this.zikirler = data.zikirler || [];
                    this.memorials = data.memorials || [];
                    this.jobs = data.jobs || [];
                    this.currentZikirId = data.currentZikirId || null;
                    this.settings = data.settings || this.settings;
                    this.dailyStats = data.dailyStats || {};
                } else {
                    this.initializeDefaultZikirler();
                }

                if (!this.currentZikirId || !this.zikirler.find(z => z.id === this.currentZikirId)) {
                    this.currentZikirId = this.zikirler.length > 0 ? this.zikirler[0].id : null;
                }

                this.cleanOldDailyStats();
            }

            initializeDefaultZikirler() {
                const defaults = [
                    { 
                        name: 'ƒ∞HLAS-I ≈ûERƒ∞F', 
                        target: 40000,
                        reading: 'Kul huvallahu ehad. Allahus-samed. Lem yelid ve lem yuled. Ve lem yek√ºn lehu k√ºf√ºven ehad.',
                        meaning: 'De ki: O Allah birdir. Allah Samed\'dir (her ≈üey O\'na muhta√ßtƒ±r, O hi√ßbir ≈üeye muhta√ß deƒüildir). O doƒüurmamƒ±≈ütƒ±r ve doƒümamƒ±≈ütƒ±r. Hi√ßbir ≈üey O\'na denk ve benzer deƒüildir.'
                    },
                    { 
                        name: 'NAMAZ SONRASI 33 SUBHANALLAH', 
                        target: 33,
                        reading: 'S√ºbhanallah',
                        meaning: 'Allah noksan sƒ±fatlardan m√ºnezzehtir, her t√ºrl√º eksiklikten uzaktƒ±r.'
                    },
                    { 
                        name: 'NAMAZ SONRASI 33 ELHAMD√úLƒ∞LLAH', 
                        target: 33,
                        reading: 'Elhamd√ºlillah',
                        meaning: 'Hamd, √∂vg√º ve ≈ü√ºk√ºr yalnƒ±zca Allah\'a mahsustur.'
                    },
                    { 
                        name: 'NAMAZ SONRASI 34 ALLAHU EKBER', 
                        target: 34,
                        reading: 'Allahu Ekber',
                        meaning: 'Allah en b√ºy√ºkt√ºr, her ≈üeyden √ºst√ºnd√ºr.'
                    },
                    { 
                        name: 'ESTAƒûFƒ∞RULLAH', 
                        target: 100,
                        reading: 'Estaƒüfirullah',
                        meaning: 'Allah\'tan baƒüƒ±≈ülanma dilerim, g√ºnahlarƒ±mƒ±n affedilmesini niyaz ederim.'
                    },
                    { 
                        name: 'LA ƒ∞LAHE ƒ∞LLALLAH', 
                        target: 100,
                        reading: 'La ilahe illallah',
                        meaning: 'Allah\'tan ba≈üka ilah yoktur, yalnƒ±zca O\'na ibadet edilir.'
                    },
                    { 
                        name: 'ALLAH√úMME SALLƒ∞ ALA SEYYƒ∞Dƒ∞NA MUHAMMED', 
                        target: 100,
                        reading: 'Allah√ºmme salli ala seyyidina Muhammedin ve ala ali seyyidina Muhammed',
                        meaning: 'Allah\'ƒ±m, efendimiz Hz. Muhammed\'e ve √¢line sal√¢t-√º selam eyle.'
                    },
                    { 
                        name: 'AYET√úL K√úRSƒ∞', 
                        target: 100,
                        reading: 'Allahu la ilahe illa h√ºvel hayy√ºl kayyum. La te\'huz√ºh√º sinet√ºv vela nevm. Lehu ma fis semavati vema fil ard. Men zellezi ye≈üfeu indeh√º illa bi iznih. Ya\'lemu ma beyne eydihim vema halfeh√ºm. Vela yuhitune bi ≈üey\'im min ilmihi illa bima ≈üa\'e. Vesia k√ºrsiyy√ºh√ºs semavati vel ard. Vela ye√ºd√ºh√º hƒ±fzuh√ºma ve h√ºvel aliyy√ºl azim.',
                        meaning: 'Allah ki O\'ndan ba≈üka ilah yoktur. Diri\'dir, Kayyum\'dur (her ≈üeyi varlƒ±kta tutan). O\'nu ne uyuklama tutar ne de uyku. G√∂klerde ve yerde ne varsa hepsi O\'nundur. ƒ∞zni olmadan katƒ±nda kim ≈üefaat edebilir? Kullarƒ±n √∂nlerindekini ve arkalarƒ±ndakini bilir. O\'nun ilminden, kendisinin dilediƒüi kadarƒ±ndan ba≈ükasƒ±nƒ± ihata edemezler. O\'nun k√ºrs√ºs√º g√∂kleri ve yeri kaplayƒ±p ku≈üatmƒ±≈ütƒ±r. Onlarƒ± koruyup g√∂zetmek O\'na g√º√ß gelmez. O, Aliyy\'dir (en y√ºce), Az√Æm\'dir (en b√ºy√ºk).'
                    }
                ];

                this.zikirler = defaults.map(z => ({
                    id: this.generateId(),
                    name: z.name,
                    count: 0,
                    target: z.target,
                    reading: z.reading || '',
                    meaning: z.meaning || '',
                    createdAt: Date.now()
                }));

                this.currentZikirId = this.zikirler[0].id;
                this.saveData();
            }

            saveData() {
                const data = {
                    zikirler: this.zikirler,
                    memorials: this.memorials,
                    jobs: this.jobs,
                    currentZikirId: this.currentZikirId,
                    settings: this.settings,
                    dailyStats: this.dailyStats,
                    lastUpdate: Date.now()
                };
                localStorage.setItem('zikirmatik_pro_data', JSON.stringify(data));
            }

            generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            }

            getTodayKey() {
                const today = new Date();
                return `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;
            }

            cleanOldDailyStats() {
                const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);
                const keys = Object.keys(this.dailyStats);
                
                keys.forEach(key => {
                    const [year, month, day] = key.split('-').map(Number);
                    const date = new Date(year, month - 1, day);
                    if (date.getTime() < thirtyDaysAgo) {
                        delete this.dailyStats[key];
                    }
                });
            }

            incrementDailyCount() {
                const today = this.getTodayKey();
                if (!this.dailyStats[today]) {
                    this.dailyStats[today] = 0;
                }
                this.dailyStats[today]++;
            }

            getTodayCount() {
                const today = this.getTodayKey();
                return this.dailyStats[today] || 0;
            }

            // ZIKIR OPERATIONS
            getCurrentZikir() {
                return this.zikirler.find(z => z.id === this.currentZikirId);
            }

            incrementCount() {
                const zikir = this.getCurrentZikir();
                if (!zikir) return;

                zikir.count++;
                this.incrementDailyCount();

                if (this.settings.vibration && navigator.vibrate) {
                    navigator.vibrate(50);
                }

                this.saveData();
                this.updateUI();
                this.updateStats();

                if (zikir.count === zikir.target) {
                    this.showToast(`üéâ ${zikir.name} hedefini tamamladƒ±nƒ±z!`);
                }
            }

            addZikir(name, target, reading = '', meaning = '') {
                if (!name.trim()) {
                    this.showToast('‚ö†Ô∏è Zikir adƒ± bo≈ü olamaz!');
                    return;
                }

                const newZikir = {
                    id: this.generateId(),
                    name: name.trim().toUpperCase(),
                    count: 0,
                    target: parseInt(target) || 1000,
                    reading: reading.trim(),
                    meaning: meaning.trim(),
                    createdAt: Date.now()
                };

                this.zikirler.push(newZikir);
                this.saveData();
                this.renderZikirList();
                this.showToast('‚úÖ Yeni zikir eklendi!');

                document.getElementById('newZikirName').value = '';
                document.getElementById('newZikirTarget').value = '1000';
                document.getElementById('newZikirReading').value = '';
                document.getElementById('newZikirMeaning').value = '';
            }

            deleteZikir(id) {
                const zikir = this.zikirler.find(z => z.id === id);
                if (!zikir) return;

                this.showConfirmModal(
                    'Zikri Sil',
                    `"${zikir.name}" adlƒ± zikri silmek istediƒüinize emin misiniz?`,
                    () => {
                        this.zikirler = this.zikirler.filter(z => z.id !== id);
                        
                        if (this.currentZikirId === id) {
                            this.currentZikirId = this.zikirler.length > 0 ? this.zikirler[0].id : null;
                        }

                        this.saveData();
                        this.renderZikirList();
                        this.updateUI();
                        this.showToast('üóëÔ∏è Zikir silindi!');
                    }
                );
            }

            resetZikir(id) {
                const zikir = this.zikirler.find(z => z.id === id);
                if (!zikir) return;

                this.showConfirmModal(
                    'Sayacƒ± Sƒ±fƒ±rla',
                    `"${zikir.name}" sayacƒ±nƒ± sƒ±fƒ±rlamak istediƒüinize emin misiniz?`,
                    () => {
                        zikir.count = 0;
                        this.saveData();
                        this.renderZikirList();
                        this.updateUI();
                        this.showToast('üîÑ Saya√ß sƒ±fƒ±rlandƒ±!');
                    }
                );
            }

            selectZikir(id) {
                this.currentZikirId = id;
                this.saveData();
                this.updateUI();
                this.renderZikirList();
                this.closeMenu();
            }

            updateUI() {
                const zikir = this.getCurrentZikir();
                if (!zikir) {
                    document.getElementById('currentZikirName').textContent = 'Zikir se√ßilmedi';
                    document.getElementById('currentCount').textContent = '0';
                    document.getElementById('currentTarget').textContent = '0';
                    document.getElementById('remaining').textContent = '0';
                    document.getElementById('progressBar').style.width = '0%';
                    document.getElementById('progressText').textContent = '%0 tamamlandƒ±';
                    document.getElementById('zikirReading').textContent = '';
                    document.getElementById('zikirMeaning').textContent = '';
                    return;
                }

                document.getElementById('currentZikirName').textContent = zikir.name;
                document.getElementById('currentCount').textContent = zikir.count.toLocaleString('tr-TR');
                document.getElementById('currentTarget').textContent = zikir.target.toLocaleString('tr-TR');
                
                const readingEl = document.getElementById('zikirReading');
                const meaningEl = document.getElementById('zikirMeaning');
                
                if (zikir.reading) {
                    readingEl.textContent = 'üìñ ' + zikir.reading;
                    readingEl.style.display = 'block';
                } else {
                    readingEl.style.display = 'none';
                }
                
                if (zikir.meaning) {
                    meaningEl.textContent = 'üí≠ ' + zikir.meaning;
                    meaningEl.style.display = 'block';
                } else {
                    meaningEl.style.display = 'none';
                }
                
                const remaining = Math.max(0, zikir.target - zikir.count);
                document.getElementById('remaining').textContent = remaining.toLocaleString('tr-TR');

                const progress = Math.min(100, (zikir.count / zikir.target) * 100);
                document.getElementById('progressBar').style.width = progress + '%';
                document.getElementById('progressText').textContent = `%${progress.toFixed(1)} tamamlandƒ±`;
            }

            updateStats() {
                const todayCount = this.getTodayCount();
                const totalCount = this.zikirler.reduce((sum, z) => sum + z.count, 0);

                document.getElementById('todayCount').textContent = todayCount.toLocaleString('tr-TR');
                document.getElementById('totalCount').textContent = totalCount.toLocaleString('tr-TR');
            }

            renderZikirList() {
                const container = document.getElementById('zikirList');
                const searchTerm = document.getElementById('searchBox').value.toLowerCase();
                
                const filtered = this.zikirler.filter(z => 
                    z.name.toLowerCase().includes(searchTerm)
                );

                filtered.sort((a, b) => {
                    if (a.id === this.currentZikirId) return -1;
                    if (b.id === this.currentZikirId) return 1;
                    return a.name.localeCompare(b.name, 'tr');
                });

                container.innerHTML = filtered.map(zikir => {
                    const progress = Math.min(100, (zikir.count / zikir.target) * 100);
                    const isActive = zikir.id === this.currentZikirId;

                    return `
                        <div class="zikir-item ${isActive ? 'active' : ''}" data-id="${zikir.id}">
                            <div class="zikir-item-header">
                                <div class="zikir-item-name">${zikir.name}</div>
                                <div class="zikir-item-count">${zikir.count.toLocaleString('tr-TR')}</div>
                            </div>
                            <div class="zikir-item-progress">Hedef: ${zikir.target.toLocaleString('tr-TR')}</div>
                            <div class="zikir-item-bar">
                                <div class="zikir-item-bar-fill" style="width: ${progress}%"></div>
                            </div>
                            <div class="zikir-item-actions">
                                <button class="btn btn-small btn-primary select-zikir" data-id="${zikir.id}">
                                    ${isActive ? '‚úì Se√ßili' : 'Se√ß'}
                                </button>
                                <button class="btn btn-small btn-secondary reset-zikir" data-id="${zikir.id}">Sƒ±fƒ±rla</button>
                                <button class="btn btn-small btn-danger delete-zikir" data-id="${zikir.id}">Sil</button>
                            </div>
                        </div>
                    `;
                }).join('');

                container.querySelectorAll('.select-zikir').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.selectZikir(btn.dataset.id);
                    });
                });

                container.querySelectorAll('.reset-zikir').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.resetZikir(btn.dataset.id);
                    });
                });

                container.querySelectorAll('.delete-zikir').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.deleteZikir(btn.dataset.id);
                    });
                });

                container.querySelectorAll('.zikir-item').forEach(item => {
                    item.addEventListener('click', () => {
                        this.selectZikir(item.dataset.id);
                    });
                });
            }

            // CALENDAR FUNCTIONS
            updateCalendar() {
                // 2026 ƒ∞slami √∂nemli g√ºnler (tahmini)
                const threeMonthsStart = new Date('2026-02-11'); // Recep 1
                const threeMonthsEnd = new Date('2026-05-11'); // Ramazan 30
                const ramadanStart = new Date('2026-04-13'); // Ramazan 1
                const eidFitr = new Date('2026-05-13'); // ≈ûevval 1 (Ramazan Bayramƒ±)
                const eidAdha = new Date('2026-07-20'); // Zilhicce 10 (Kurban Bayramƒ±)

                const now = new Date();

                // √ú√ß Aylar
                document.getElementById('threeMonthsStart').textContent = this.formatDate(threeMonthsStart);
                document.getElementById('threeMonthsEnd').textContent = this.formatDate(threeMonthsEnd);
                
                if (now < threeMonthsStart) {
                    const days = Math.ceil((threeMonthsStart - now) / (1000 * 60 * 60 * 24));
                    document.getElementById('threeMonthsStatus').textContent = `${days} g√ºn sonra ba≈ülayacak`;
                } else if (now >= threeMonthsStart && now <= threeMonthsEnd) {
                    document.getElementById('threeMonthsStatus').textContent = '√ú√ß Aylar devam ediyor üåô';
                } else {
                    document.getElementById('threeMonthsStatus').textContent = 'Sona erdi';
                }

                // Ramazan
                const ramadanDiff = this.getDateDifference(now, ramadanStart);
                document.getElementById('ramadanDays').textContent = ramadanDiff.days;
                document.getElementById('ramadanMonths').textContent = ramadanDiff.months;
                document.getElementById('ramadanStartDate').textContent = this.formatDate(ramadanStart);

                // Ramazan Bayramƒ±
                const eidFitrDiff = this.getDateDifference(now, eidFitr);
                document.getElementById('eidFitrDays').textContent = eidFitrDiff.days;
                document.getElementById('eidFitrMonths').textContent = eidFitrDiff.months;
                document.getElementById('eidFitrDate').textContent = this.formatDate(eidFitr);

                // Kurban Bayramƒ±
                const eidAdhaDiff = this.getDateDifference(now, eidAdha);
                document.getElementById('eidAdahDays').textContent = eidAdhaDiff.days;
                document.getElementById('eidAdahMonths').textContent = eidAdhaDiff.months;
                document.getElementById('eidAdahDate').textContent = this.formatDate(eidAdha);
            }

            getDateDifference(from, to) {
                const diff = to - from;
                const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
                const months = Math.floor(days / 30);
                const remainingDays = days % 30;

                return {
                    days: remainingDays,
                    months: months
                };
            }

            formatDate(date) {
                return date.toLocaleDateString('tr-TR', { day: 'numeric', month: 'long', year: 'numeric' });
            }

            // MEMORIAL FUNCTIONS
            addMemorial(name, dateTime) {
                if (!name.trim() || !dateTime) {
                    this.showToast('‚ö†Ô∏è ƒ∞sim ve tarih gerekli!');
                    return;
                }

                const memorial = {
                    id: this.generateId(),
                    name: name.trim(),
                    date: new Date(dateTime).getTime(),
                    createdAt: Date.now()
                };

                this.memorials.push(memorial);
                this.saveData();
                this.updateMemorials();
                this.showToast('‚úÖ Vefat kaydƒ± eklendi');

                document.getElementById('memorialName').value = '';
                document.getElementById('memorialDate').value = '';
            }

            deleteMemorial(id) {
                this.showConfirmModal(
                    'Kaydƒ± Sil',
                    'Bu vefat kaydƒ±nƒ± silmek istediƒüinize emin misiniz?',
                    () => {
                        this.memorials = this.memorials.filter(m => m.id !== id);
                        this.saveData();
                        this.updateMemorials();
                        this.showToast('üóëÔ∏è Kayƒ±t silindi');
                    }
                );
            }

            updateMemorials() {
                const container = document.getElementById('memorialList');
                const now = Date.now();

                if (this.memorials.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">Hen√ºz vefat kaydƒ± eklenmemi≈ü.</p>';
                    return;
                }

                container.innerHTML = this.memorials.map(memorial => {
                    const elapsed = this.getElapsedTime(memorial.date, now);
                    
                    return `
                        <div class="memorial-card">
                            <div class="memorial-header">
                                <div class="memorial-name">${memorial.name}</div>
                                <button class="btn btn-small btn-danger" onclick="app.deleteMemorial('${memorial.id}')">Sil</button>
                            </div>
                            <div class="memorial-date">üìÖ ${this.formatDate(new Date(memorial.date))}</div>
                            <div class="memorial-elapsed">
                                <div class="elapsed-item">
                                    <div class="elapsed-value">${elapsed.years}</div>
                                    <div class="elapsed-label">Yƒ±l</div>
                                </div>
                                <div class="elapsed-item">
                                    <div class="elapsed-value">${elapsed.months}</div>
                                    <div class="elapsed-label">Ay</div>
                                </div>
                                <div class="elapsed-item">
                                    <div class="elapsed-value">${elapsed.days}</div>
                                    <div class="elapsed-label">G√ºn</div>
                                </div>
                                <div class="elapsed-item">
                                    <div class="elapsed-value">${elapsed.hours}</div>
                                    <div class="elapsed-label">Saat</div>
                                </div>
                                <div class="elapsed-item">
                                    <div class="elapsed-value">${elapsed.minutes}</div>
                                    <div class="elapsed-label">Dakika</div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            getElapsedTime(from, to) {
                const diff = to - from;
                
                const minutes = Math.floor(diff / (1000 * 60));
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const months = Math.floor(days / 30);
                const years = Math.floor(days / 365);

                return {
                    years: years,
                    months: months % 12,
                    days: days % 30,
                    hours: hours % 24,
                    minutes: minutes % 60
                };
            }

            // FINANCE FUNCTIONS
            addJob(name, dailyPay, workDays, startDate, savingGoal = 0) {
                if (!name.trim() || !dailyPay || !workDays || !startDate) {
                    this.showToast('‚ö†Ô∏è T√ºm alanlarƒ± doldurun!');
                    return;
                }

                const job = {
                    id: this.generateId(),
                    name: name.trim(),
                    dailyPay: parseFloat(dailyPay),
                    workDays: parseInt(workDays),
                    startDate: new Date(startDate).getTime(),
                    savingGoal: parseFloat(savingGoal) || 0,
                    createdAt: Date.now()
                };

                this.jobs.push(job);
                this.saveData();
                this.updateJobs();
                this.showToast('‚úÖ ƒ∞≈ü eklendi!');

                document.getElementById('jobName').value = '';
                document.getElementById('jobDailyPay').value = '';
                document.getElementById('jobWorkDays').value = '';
                document.getElementById('jobStartDate').value = '';
                document.getElementById('jobSavingGoal').value = '';
            }

            deleteJob(id) {
                this.showConfirmModal(
                    'ƒ∞≈üi Sil',
                    'Bu i≈ü kaydƒ±nƒ± silmek istediƒüinize emin misiniz?',
                    () => {
                        this.jobs = this.jobs.filter(j => j.id !== id);
                        this.saveData();
                        this.updateJobs();
                        this.showToast('üóëÔ∏è ƒ∞≈ü silindi');
                    }
                );
            }

            updateJobs() {
                const container = document.getElementById('jobsList');

                if (this.jobs.length === 0) {
                    container.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">Hen√ºz i≈ü eklenmemi≈ü.</p>';
                    return;
                }

                container.innerHTML = this.jobs.map(job => {
                    const stats = this.calculateJobStats(job);
                    
                    return `
                        <div class="job-card">
                            <div class="job-header">
                                <div class="job-name">${job.name}</div>
                                <div class="job-status">Aktif</div>
                            </div>
                            <div style="margin: 1rem 0; padding: 1rem; background: var(--bg-primary); border-radius: 12px;">
                                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Toplam Kazan√ß</div>
                                <div style="font-size: 2rem; font-weight: 700; color: var(--accent);">${stats.totalEarned.toLocaleString('tr-TR')} ‚Ç∫</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                    ${stats.daysWorked} g√ºn √ßalƒ±≈ütƒ±nƒ±z
                                </div>
                            </div>
                            <div class="job-stats">
                                <div class="job-stat">
                                    <div class="job-stat-label">G√ºnl√ºk Kazan√ß</div>
                                    <div class="job-stat-value">${job.dailyPay.toLocaleString('tr-TR')} ‚Ç∫</div>
                                </div>
                                <div class="job-stat">
                                    <div class="job-stat-label">Haftalƒ±k</div>
                                    <div class="job-stat-value">${(job.dailyPay * job.workDays).toLocaleString('tr-TR')} ‚Ç∫</div>
                                </div>
                                <div class="job-stat">
                                    <div class="job-stat-label">Aylƒ±k (Tahmini)</div>
                                    <div class="job-stat-value">${(job.dailyPay * job.workDays * 4).toLocaleString('tr-TR')} ‚Ç∫</div>
                                </div>
                                <div class="job-stat">
                                    <div class="job-stat-label">√áalƒ±≈üma G√ºn√º</div>
                                    <div class="job-stat-value">${job.workDays}/7</div>
                                </div>
                            </div>
                            ${job.savingGoal > 0 ? `
                                <div style="margin-top: 1rem; padding: 1rem; background: rgba(45, 95, 63, 0.05); border-radius: 12px;">
                                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 0.5rem;">Hedef Birikim: ${job.savingGoal.toLocaleString('tr-TR')} ‚Ç∫</div>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: ${Math.min(100, (stats.totalEarned / job.savingGoal) * 100)}%"></div>
                                    </div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem; text-align: center;">
                                        ${stats.daysToGoal > 0 ? `Hedefe ${stats.daysToGoal} g√ºn kaldƒ±` : 'Hedef tamamlandƒ±! üéâ'}
                                    </div>
                                </div>
                            ` : ''}
                            <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                                <button class="btn btn-danger btn-small" onclick="app.deleteJob('${job.id}')" style="flex: 1;">ƒ∞≈üi Sil</button>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            calculateJobStats(job) {
                const now = Date.now();
                const startDate = job.startDate;
                const daysPassed = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
                
                // Hafta bazƒ±nda √ßalƒ±≈üma g√ºn√º hesaplama
                const weeks = Math.floor(daysPassed / 7);
                const remainingDays = daysPassed % 7;
                const daysWorked = (weeks * job.workDays) + Math.min(remainingDays, job.workDays);
                
                const totalEarned = daysWorked * job.dailyPay;
                
                const daysToGoal = job.savingGoal > 0 
                    ? Math.max(0, Math.ceil((job.savingGoal - totalEarned) / job.dailyPay))
                    : 0;

                return {
                    daysWorked,
                    totalEarned,
                    daysToGoal
                };
            }

            // PAGE NAVIGATION
            switchPage(pageId) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                document.querySelector(`[data-page="${pageId}"]`).classList.add('active');
                
                this.currentPage = pageId;

                // Show/hide zikir sections in menu
                const zikirSections = ['zikirListSection', 'addZikirSection'];
                zikirSections.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.style.display = pageId === 'zikirPage' ? 'block' : 'none';
                    }
                });

                this.closeMenu();
            }

            // MENU
            toggleMenu() {
                const menu = document.getElementById('sideMenu');
                const overlay = document.getElementById('overlay');
                const hamburger = document.getElementById('menuToggle');

                menu.classList.toggle('active');
                overlay.classList.toggle('active');
                hamburger.classList.toggle('active');

                if (menu.classList.contains('active') && this.currentPage === 'zikirPage') {
                    this.renderZikirList();
                }
            }

            closeMenu() {
                document.getElementById('sideMenu').classList.remove('active');
                document.getElementById('overlay').classList.remove('active');
                document.getElementById('menuToggle').classList.remove('active');
            }

            // MODAL & TOAST
            showConfirmModal(title, text, onConfirm) {
                const modal = document.getElementById('confirmModal');
                document.getElementById('modalTitle').textContent = title;
                document.getElementById('modalText').textContent = text;
                
                modal.classList.add('active');

                const confirmBtn = document.getElementById('modalConfirm');
                const cancelBtn = document.getElementById('modalCancel');

                const confirm = () => {
                    onConfirm();
                    modal.classList.remove('active');
                    cleanup();
                };

                const cancel = () => {
                    modal.classList.remove('active');
                    cleanup();
                };

                const cleanup = () => {
                    confirmBtn.removeEventListener('click', confirm);
                    cancelBtn.removeEventListener('click', cancel);
                };

                confirmBtn.addEventListener('click', confirm);
                cancelBtn.addEventListener('click', cancel);
            }

            showToast(message) {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.classList.add('show');

                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            // DATA IMPORT/EXPORT
            exportData() {
                const data = {
                    zikirler: this.zikirler,
                    memorials: this.memorials,
                    jobs: this.jobs,
                    settings: this.settings,
                    dailyStats: this.dailyStats,
                    exportDate: new Date().toISOString(),
                    version: '2.0'
                };

                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `zikirmatik-pro-yedek-${Date.now()}.json`;
                a.click();
                URL.revokeObjectURL(url);

                this.showToast('üì• Veriler dƒ±≈üa aktarƒ±ldƒ±!');
            }

            importData(file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const data = JSON.parse(e.target.result);
                        
                        this.zikirler = data.zikirler || [];
                        this.memorials = data.memorials || [];
                        this.jobs = data.jobs || [];
                        this.settings = data.settings || this.settings;
                        this.dailyStats = data.dailyStats || {};
                        
                        if (!this.zikirler.find(z => z.id === this.currentZikirId)) {
                            this.currentZikirId = this.zikirler[0]?.id || null;
                        }

                        this.saveData();
                        this.updateUI();
                        this.updateStats();
                        this.updateCalendar();
                        this.updateMemorials();
                        this.updateJobs();
                        this.renderZikirList();
                        this.showToast('üì§ Veriler i√ße aktarƒ±ldƒ±!');
                    } catch (error) {
                        this.showToast('‚ùå Hata: Ge√ßersiz dosya!');
                    }
                };
                reader.readAsText(file);
            }

            resetAllData() {
                this.showConfirmModal(
                    'T√ºm Verileri Sƒ±fƒ±rla',
                    'T√úM verileriniz silinecek. Bu i≈ülem geri alƒ±namaz!',
                    () => {
                        localStorage.removeItem('zikirmatik_pro_data');
                        this.zikirler = [];
                        this.memorials = [];
                        this.jobs = [];
                        this.dailyStats = {};
                        this.initializeDefaultZikirler();
                        this.updateUI();
                        this.updateStats();
                        this.updateCalendar();
                        this.updateMemorials();
                        this.updateJobs();
                        this.renderZikirList();
                        this.showToast('üóëÔ∏è T√ºm veriler sƒ±fƒ±rlandƒ±!');
                    }
                );
            }

            // EVENT LISTENERS
            setupEventListeners() {
                // Counter button
                document.getElementById('counterButton').addEventListener('click', () => {
                    this.incrementCount();
                });

                // Menu toggle
                document.getElementById('menuToggle').addEventListener('click', () => {
                    this.toggleMenu();
                });

                document.getElementById('overlay').addEventListener('click', () => {
                    this.closeMenu();
                });

                // Page navigation
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', () => {
                        const pageId = item.dataset.page;
                        this.switchPage(pageId);
                    });
                });

                // Add zikir
                document.getElementById('addZikirBtn').addEventListener('click', () => {
                    const name = document.getElementById('newZikirName').value;
                    const target = document.getElementById('newZikirTarget').value;
                    const reading = document.getElementById('newZikirReading').value;
                    const meaning = document.getElementById('newZikirMeaning').value;
                    this.addZikir(name, target, reading, meaning);
                });

                document.getElementById('newZikirName').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        document.getElementById('addZikirBtn').click();
                    }
                });

                // Search
                document.getElementById('searchBox').addEventListener('input', () => {
                    this.renderZikirList();
                });

                // Settings
                document.getElementById('vibrationToggle').addEventListener('change', (e) => {
                    this.settings.vibration = e.target.checked;
                    this.saveData();
                });

                document.getElementById('vibrationToggle').checked = this.settings.vibration;

                // Export/Import
                document.getElementById('exportBtn').addEventListener('click', () => {
                    this.exportData();
                });

                document.getElementById('importFile').addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        this.importData(file);
                        e.target.value = '';
                    }
                });

                document.getElementById('resetAllBtn').addEventListener('click', () => {
                    this.resetAllData();
                });

                // Add memorial
                document.getElementById('addMemorialBtn').addEventListener('click', () => {
                    const name = document.getElementById('memorialName').value;
                    const dateTime = document.getElementById('memorialDate').value;
                    this.addMemorial(name, dateTime);
                });

                // Add job
                document.getElementById('addJobBtn').addEventListener('click', () => {
                    const name = document.getElementById('jobName').value;
                    const dailyPay = document.getElementById('jobDailyPay').value;
                    const workDays = document.getElementById('jobWorkDays').value;
                    const startDate = document.getElementById('jobStartDate').value;
                    const savingGoal = document.getElementById('jobSavingGoal').value;
                    this.addJob(name, dailyPay, workDays, startDate, savingGoal);
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.code === 'Space' && !e.target.matches('input, textarea') && this.currentPage === 'zikirPage') {
                        e.preventDefault();
                        this.incrementCount();
                    }
                });
            }
        }

        const app = new ZikirmatikApp();
    </script>
</body>
</html>
