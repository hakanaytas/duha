<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>DUHA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #1a1a1a;
            --secondary: #6b7280;
            --accent: #3b82f6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg: #ffffff;
            --bg-secondary: #f9fafb;
            --border: #e5e7eb;
            --text: #111827;
            --text-secondary: #6b7280;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            overflow-x: hidden;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
        }

        .logo {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: 0.5px;
            color: var(--primary);
        }

        .hamburger {
            width: 24px;
            height: 18px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer;
            position: relative;
        }

        .hamburger span {
            width: 100%;
            height: 2px;
            background: var(--primary);
            border-radius: 2px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hamburger.active span:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }

        .drawer {
            position: fixed;
            top: 0;
            right: -100%;
            width: 85%;
            max-width: 320px;
            height: 100vh;
            background: var(--bg);
            box-shadow: -4px 0 24px rgba(0, 0, 0, 0.12);
            z-index: 2000;
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }

        .drawer.active {
            right: 0;
        }

        .drawer-header {
            padding: 30px 24px 20px 24px;
            border-bottom: 1px solid var(--border);
        }

        .drawer-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .drawer-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .drawer-menu {
            padding: 12px 0;
        }

        .menu-item {
            padding: 16px 24px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 16px;
            color: var(--text);
        }

        .menu-item:active {
            background: var(--bg-secondary);
        }

        .menu-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.4);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1500;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .content {
            margin-top: 60px;
            padding: 20px;
            min-height: calc(100vh - 60px);
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--primary);
        }

        .input-group {
            margin-bottom: 16px;
        }

        .input-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 16px;
            background: var(--bg);
            color: var(--text);
            transition: all 0.2s;
        }

        .input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .btn {
            width: 100%;
            padding: 14px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 8px;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid var(--border);
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-value.success {
            color: var(--success);
        }

        .stat-value.danger {
            color: var(--danger);
        }

        .stat-value.warning {
            color: var(--warning);
        }

        .info-box {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            border-left: 4px solid var(--accent);
        }

        .info-box.success {
            border-left-color: var(--success);
        }

        .info-box.warning {
            border-left-color: var(--warning);
        }

        .info-box.danger {
            border-left-color: var(--danger);
        }

        .info-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .info-text {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .list-item {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-info {
            flex: 1;
        }

        .item-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .item-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .item-amount {
            font-size: 18px;
            font-weight: 700;
        }

        .item-amount.expense {
            color: var(--danger);
        }

        .item-amount.income {
            color: var(--success);
        }

        .zikir-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        .zikir-button {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 64px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.3);
            transition: all 0.2s;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zikir-button:active {
            transform: scale(0.95);
        }

        .zikir-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.3);
            top: 0;
            left: 0;
        }

        .zikir-label {
            margin-top: 24px;
            font-size: 16px;
            color: var(--text-secondary);
            text-align: center;
        }

        .zikir-mode-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding: 4px 0;
        }

        .mode-btn {
            padding: 10px 20px;
            border: 1px solid var(--border);
            background: var(--bg);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .mode-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            margin: 16px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #667eea);
            transition: width 0.3s;
            border-radius: 8px;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .notification {
            position: fixed;
            top: 70px;
            left: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            transform: translateY(-120%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 3000;
        }

        .notification.show {
            transform: translateY(0);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .empty-text {
            font-size: 16px;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .btn-group .btn {
            margin-top: 0;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .divider {
            height: 1px;
            background: var(--border);
            margin: 24px 0;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .chart-container {
            max-width: 300px;
            margin: 20px auto;
            position: relative;
        }

        canvas {
            max-width: 100%;
            height: auto;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">DUHA</div>
        <div class="hamburger" onclick="toggleDrawer()">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <div class="overlay" onclick="toggleDrawer()"></div>

    <div class="drawer">
        <div class="drawer-header">
            <div class="drawer-title">Men√º</div>
            <div class="drawer-subtitle">Navigasyon</div>
        </div>
        <div class="drawer-menu">
            <div class="menu-item" onclick="showSection('home')">
                <span class="menu-icon">üè†</span>
                <span>Ana Panel</span>
            </div>
            <div class="menu-item" onclick="showSection('earnings')">
                <span class="menu-icon">üí∞</span>
                <span>Kazan√ß & Yevmiye</span>
            </div>
            <div class="menu-item" onclick="showSection('expenses')">
                <span class="menu-icon">üìâ</span>
                <span>Harcamalar</span>
            </div>
            <div class="menu-item" onclick="showSection('simulation')">
                <span class="menu-icon">üßÆ</span>
                <span>Sim√ºlasyon</span>
            </div>
            <div class="menu-item" onclick="showSection('zikir')">
                <span class="menu-icon">üïå</span>
                <span>Zikir</span>
            </div>
            <div class="menu-item" onclick="showSection('settings')">
                <span class="menu-icon">‚öôÔ∏è</span>
                <span>Ayarlar</span>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <div class="content">
        <!-- ANA PANEL -->
        <div class="section active" id="home">
            <h1 class="section-title">Ana Panel</h1>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Bu Hafta Kazan√ß</div>
                    <div class="stat-value success" id="home-weekly-earnings">0‚Ç∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Elde Kalan</div>
                    <div class="stat-value" id="home-remaining">0‚Ç∫</div>
                </div>
            </div>

            <div id="home-advice"></div>

            <div class="card">
                <div class="card-title">Hƒ±zlƒ± Bilgiler</div>
                <div class="info-text" style="margin-bottom: 12px;">
                    <strong>G√ºnl√ºk Yevmiye:</strong> <span id="home-daily-wage">0‚Ç∫</span>
                </div>
                <div class="info-text" style="margin-bottom: 12px;">
                    <strong>≈ûu Ana Kadar Kazanƒ±lan:</strong> <span id="home-earned-so-far">0‚Ç∫</span>
                </div>
                <div class="info-text">
                    <strong>Toplam Harcama:</strong> <span id="home-total-spent">0‚Ç∫</span>
                </div>
            </div>

            <div class="card">
                <div class="card-title">Gelir & Gider Daƒüƒ±lƒ±mƒ±</div>
                <div class="chart-container">
                    <canvas id="homeChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #10b981;"></div>
                        <span>Gelir</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ef4444;"></div>
                        <span>Gider</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- KAZAN√á & YEVMƒ∞YE -->
        <div class="section" id="earnings">
            <h1 class="section-title">Kazan√ß & Yevmiye</h1>

            <div class="card">
                <div class="card-title">Temel Bilgiler</div>

                <div class="input-group">
                    <label class="input-label">G√ºnl√ºk Yevmiye (‚Ç∫)</label>
                    <input type="number" class="input" id="daily-wage" placeholder="500">
                </div>

                <div class="input-group">
                    <label class="input-label">Bu Hafta √áalƒ±≈üƒ±lacak G√ºn</label>
                    <input type="number" class="input" id="work-days" placeholder="6" min="0" max="7">
                </div>

                <div class="input-group">
                    <label class="input-label">ƒ∞zin G√ºn√º Sayƒ±sƒ±</label>
                    <input type="number" class="input" id="days-off" placeholder="0" min="0">
                </div>

                <div class="input-group">
                    <label class="input-label">Ekstra √áalƒ±≈üma G√ºn√º</label>
                    <input type="number" class="input" id="extra-days" placeholder="0" min="0">
                </div>

                <button class="btn btn-primary" onclick="saveEarnings()">Kaydet</button>
            </div>

            <div class="card">
                <div class="card-title">Mali Durum</div>

                <div class="input-group">
                    <label class="input-label">≈ûu Ana Kadar Kazanƒ±lan (‚Ç∫)</label>
                    <input type="number" class="input" id="earned-so-far" placeholder="0">
                </div>

                <div class="input-group">
                    <label class="input-label">≈ûu Ana Kadar Harcanan (‚Ç∫)</label>
                    <input type="number" class="input" id="spent-so-far" placeholder="0">
                </div>

                <div class="input-group">
                    <label class="input-label">Planlanan Harcamalar (‚Ç∫)</label>
                    <input type="number" class="input" id="planned-expenses" placeholder="0">
                </div>

                <button class="btn btn-primary" onclick="saveFinancialStatus()">G√ºncelle</button>
            </div>

            <div class="stats-grid">
                <div class="stat-card full-width">
                    <div class="stat-label">Bu Hafta Toplam Kazan√ß</div>
                    <div class="stat-value success" id="total-weekly-earnings">0‚Ç∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Kazanƒ±lmƒ±≈ü Olmalƒ±</div>
                    <div class="stat-value" id="should-have-earned">0‚Ç∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Elde Kalmalƒ±</div>
                    <div class="stat-value" id="should-remain">0‚Ç∫</div>
                </div>
            </div>

            <div id="earnings-advice"></div>
        </div>

        <!-- HARCAMALAR -->
        <div class="section" id="expenses">
            <h1 class="section-title">Harcamalar</h1>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Toplam Harcama</div>
                    <div class="stat-value danger" id="total-expenses">0‚Ç∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Bu Ay</div>
                    <div class="stat-value" id="monthly-expenses">0‚Ç∫</div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">Yeni Harcama</div>

                <div class="input-group">
                    <label class="input-label">A√ßƒ±klama</label>
                    <input type="text" class="input" id="expense-desc" placeholder="Market alƒ±≈üveri≈üi">
                </div>

                <div class="input-group">
                    <label class="input-label">Tutar (‚Ç∫)</label>
                    <input type="number" class="input" id="expense-amount" placeholder="100">
                </div>

                <div class="input-group">
                    <label class="input-label">Kategori</label>
                    <select class="input" id="expense-category">
                        <option value="Yemek">Yemek</option>
                        <option value="Ula≈üƒ±m">Ula≈üƒ±m</option>
                        <option value="Alƒ±≈üveri≈ü">Alƒ±≈üveri≈ü</option>
                        <option value="Fatura">Fatura</option>
                        <option value="Eƒülence">Eƒülence</option>
                        <option value="Diƒüer">Diƒüer</option>
                    </select>
                </div>

                <div class="input-group">
                    <label class="input-label">Tarih</label>
                    <input type="date" class="input" id="expense-date">
                </div>

                <button class="btn btn-primary" onclick="addExpense()">Harcama Ekle</button>
            </div>

            <div id="expenses-list"></div>
        </div>

        <!-- Sƒ∞M√úLASYON -->
        <div class="section" id="simulation">
            <h1 class="section-title">ƒ∞zin & Telafi Sim√ºlasyonu</h1>

            <div class="card">
                <div class="card-title">ƒ∞zin Sim√ºlasyonu</div>

                <div class="input-group">
                    <label class="input-label">Ka√ß G√ºn ƒ∞zin?</label>
                    <input type="number" class="input" id="sim-days-off" placeholder="1" min="0">
                </div>

                <button class="btn btn-primary" onclick="simulateDaysOff()">Hesapla</button>

                <div id="sim-off-result"></div>
            </div>

            <div class="card">
                <div class="card-title">Ekstra √áalƒ±≈üma Sim√ºlasyonu</div>

                <div class="input-group">
                    <label class="input-label">Ka√ß G√ºn Ekstra?</label>
                    <input type="number" class="input" id="sim-extra-days" placeholder="1" min="0">
                </div>

                <button class="btn btn-primary" onclick="simulateExtraDays()">Hesapla</button>

                <div id="sim-extra-result"></div>
            </div>
        </div>

        <!-- Zƒ∞Kƒ∞R -->
        <div class="section" id="zikir">
            <h1 class="section-title">Zikir Paneli</h1>

            <div class="card">
                <div class="zikir-mode-selector">
                    <button class="mode-btn active" onclick="switchZikirMode('free')">Serbest</button>
                    <button class="mode-btn" onclick="switchZikirMode('tesbih')">Namaz Tesbihatƒ±</button>
                    <button class="mode-btn" onclick="switchZikirMode('zikir33')">33+33+33</button>
                    <button class="mode-btn" onclick="switchZikirMode('ihlas')">40.000 ƒ∞hlas</button>
                </div>

                <div id="zikir-free" class="zikir-panel">
                    <div class="zikir-container">
                        <button class="zikir-button" onclick="incrementFreeZikir()">
                            <div class="zikir-ring"></div>
                            <span id="free-count">0</span>
                        </button>
                        <div class="zikir-label">Serbest Zikir</div>
                        <button class="btn btn-secondary" style="margin-top: 20px; max-width: 200px;" onclick="resetFreeZikir()">Sƒ±fƒ±rla</button>
                    </div>
                </div>

                <div id="zikir-tesbih" class="zikir-panel" style="display: none;">
                    <div class="zikir-container">
                        <div id="tesbih-current-name" style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: var(--primary);">Subhanallah</div>
                        <button class="zikir-button" onclick="incrementTesbih()">
                            <div class="zikir-ring"></div>
                            <span id="tesbih-count">0</span>
                        </button>
                        <div class="zikir-label" id="tesbih-label">0 / 33</div>
                        <div class="progress-bar" style="margin-top: 24px; width: 100%; max-width: 300px;">
                            <div class="progress-fill" id="tesbih-progress" style="width: 0%;"></div>
                        </div>
                        <button class="btn btn-secondary" style="margin-top: 20px; max-width: 200px;" onclick="resetTesbih()">Sƒ±fƒ±rla</button>
                    </div>
                </div>

                <div id="zikir-zikir33" class="zikir-panel" style="display: none;">
                    <div class="zikir-container">
                        <div id="zikir33-current-name" style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: var(--primary);">Estaƒüfirullah</div>
                        <button class="zikir-button" onclick="incrementZikir33()">
                            <div class="zikir-ring"></div>
                            <span id="zikir33-count">0</span>
                        </button>
                        <div class="zikir-label" id="zikir33-label">0 / 33</div>
                        <div class="progress-bar" style="margin-top: 24px; width: 100%; max-width: 300px;">
                            <div class="progress-fill" id="zikir33-progress" style="width: 0%;"></div>
                        </div>
                        <button class="btn btn-secondary" style="margin-top: 20px; max-width: 200px;" onclick="resetZikir33()">Sƒ±fƒ±rla</button>
                    </div>
                </div>

                <div id="zikir-ihlas" class="zikir-panel" style="display: none;">
                    <div class="zikir-container">
                        <div style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: var(--primary);">ƒ∞hlas Suresi</div>
                        <button class="zikir-button" onclick="incrementIhlas()">
                            <div class="zikir-ring"></div>
                            <span id="ihlas-count">0</span>
                        </button>
                        <div class="zikir-label">Kalan: <span id="ihlas-remaining">40.000</span></div>
                        <div class="progress-bar" style="margin-top: 24px; width: 100%; max-width: 300px;">
                            <div class="progress-fill" id="ihlas-progress" style="width: 0%;"></div>
                        </div>
                        <div class="progress-text" id="ihlas-percent">0%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AYARLAR -->
        <div class="section" id="settings">
            <h1 class="section-title">Ayarlar</h1>

            <div class="card">
                <div class="card-title">Finansal √ñzet</div>
                <div class="chart-container">
                    <canvas id="settingsChart"></canvas>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #10b981;"></div>
                        <span>Kazanƒ±lan</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ef4444;"></div>
                        <span>Harcanan</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #3b82f6;"></div>
                        <span>Kalan</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">Veri Y√∂netimi</div>
                
                <button class="btn btn-danger" onclick="resetAllData()">T√ºm Verileri Sƒ±fƒ±rla</button>
                <button class="btn btn-secondary" onclick="resetEarningsData()">Kazan√ß Verilerini Sƒ±fƒ±rla</button>
                <button class="btn btn-secondary" onclick="resetExpensesData()">Harcama Verilerini Sƒ±fƒ±rla</button>
                <button class="btn btn-secondary" onclick="resetZikirData()">Zikir Verilerini Sƒ±fƒ±rla</button>
            </div>

            <div class="card">
                <div class="card-title">Uygulama Bilgisi</div>
                <div class="info-text" style="line-height: 1.6;">
                    <strong>DUHA</strong> - Ki≈üisel Finans ve Zikir Takip Uygulamasƒ±<br>
                    Versiyon: 1.0<br>
                    T√ºm veriler cihazƒ±nƒ±zda g√ºvenle saklanƒ±r.
                </div>
            </div>
        </div>
    </div>

    <script>
        // LocalStorage Helpers
        function saveData(key, value) {
            localStorage.setItem(key, JSON.stringify(value));
        }

        function loadData(key, defaultValue = null) {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : defaultValue;
        }

        // UI Controls
        function toggleDrawer() {
            const drawer = document.querySelector('.drawer');
            const overlay = document.querySelector('.overlay');
            const hamburger = document.querySelector('.hamburger');
            
            drawer.classList.toggle('active');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            toggleDrawer();
            
            if (sectionId === 'home') {
                updateHomePage();
                drawHomeChart();
            }
            if (sectionId === 'earnings') loadEarningsData();
            if (sectionId === 'expenses') loadExpensesData();
            if (sectionId === 'settings') drawSettingsChart();
        }

        function showNotification(message, duration = 3000) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }

        // Pasta Grafik √áizimi
        function drawPieChart(canvasId, data) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = 300;
            canvas.height = 300;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const total = data.reduce((sum, item) => sum + item.value, 0);
            
            if (total === 0) {
                ctx.fillStyle = '#6b7280';
                ctx.font = '16px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('Veri yok', canvas.width / 2, canvas.height / 2);
                return;
            }
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 100;
            
            let currentAngle = -Math.PI / 2;
            
            data.forEach(item => {
                const sliceAngle = (item.value / total) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.lineTo(centerX, centerY);
                ctx.fillStyle = item.color;
                ctx.fill();
                
                const textAngle = currentAngle + sliceAngle / 2;
                const textX = centerX + Math.cos(textAngle) * (radius * 0.65);
                const textY = centerY + Math.sin(textAngle) * (radius * 0.65);
                
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(item.label, textX, textY - 8);
                ctx.font = '12px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.fillText(item.value.toFixed(0) + '‚Ç∫', textX, textY + 8);
                
                currentAngle += sliceAngle;
            });
        }

        function drawHomeChart() {
            const financial = loadData('financialStatus', { earnedSoFar: 0, spentSoFar: 0 });
            const expenses = loadData('expenses', []);
            const totalExpenses = expenses.reduce((sum, e) => sum + e.amount, 0);
            
            const data = [
                { label: 'Gelir', value: financial.earnedSoFar, color: '#10b981' },
                { label: 'Gider', value: totalExpenses, color: '#ef4444' }
            ];
            
            drawPieChart('homeChart', data);
        }

        function drawSettingsChart() {
            const financial = loadData('financialStatus', { earnedSoFar: 0, spentSoFar: 0 });
            const expenses = loadData('expenses', []);
            const totalExpenses = expenses.reduce((sum, e) => sum + e.amount, 0);
            const remaining = financial.earnedSoFar - totalExpenses;
            
            const data = [
                { label: 'Kazanƒ±lan', value: financial.earnedSoFar, color: '#10b981' },
                { label: 'Harcanan', value: totalExpenses, color: '#ef4444' },
                { label: 'Kalan', value: remaining > 0 ? remaining : 0, color: '#3b82f6' }
            ];
            
            drawPieChart('settingsChart', data);
        }

        // KAZAN√á & YEVMƒ∞YE
        function saveEarnings() {
            const data = {
                dailyWage: parseFloat(document.getElementById('daily-wage').value) || 0,
                workDays: parseInt(document.getElementById('work-days').value) || 0,
                daysOff: parseInt(document.getElementById('days-off').value) || 0,
                extraDays: parseInt(document.getElementById('extra-days').value) || 0
            };
            
            saveData('earnings', data);
            calculateEarnings();
            showNotification('Kazan√ß bilgileri kaydedildi');
        }

        function saveFinancialStatus() {
            const data = {
                earnedSoFar: parseFloat(document.getElementById('earned-so-far').value) || 0,
                spentSoFar: parseFloat(document.getElementById('spent-so-far').value) || 0,
                plannedExpenses: parseFloat(document.getElementById('planned-expenses').value) || 0
            };
            
            saveData('financialStatus', data);
            calculateEarnings();
            showNotification('Mali durum g√ºncellendi');
        }

        function loadEarningsData() {
            const earnings = loadData('earnings', {
                dailyWage: 0,
                workDays: 6,
                daysOff: 0,
                extraDays: 0
            });
            
            const financial = loadData('financialStatus', {
                earnedSoFar: 0,
                spentSoFar: 0,
                plannedExpenses: 0
            });
            
            document.getElementById('daily-wage').value = earnings.dailyWage;
            document.getElementById('work-days').value = earnings.workDays;
            document.getElementById('days-off').value = earnings.daysOff;
            document.getElementById('extra-days').value = earnings.extraDays;
            
            document.getElementById('earned-so-far').value = financial.earnedSoFar;
            document.getElementById('spent-so-far').value = financial.spentSoFar;
            document.getElementById('planned-expenses').value = financial.plannedExpenses;
            
            calculateEarnings();
        }

        function calculateEarnings() {
            const earnings = loadData('earnings', {
                dailyWage: 0,
                workDays: 6,
                daysOff: 0,
                extraDays: 0
            });
            
            const financial = loadData('financialStatus', {
                earnedSoFar: 0,
                spentSoFar: 0,
                plannedExpenses: 0
            });
            
            const actualWorkDays = earnings.workDays - earnings.daysOff + earnings.extraDays;
            const totalWeeklyEarnings = earnings.dailyWage * actualWorkDays;
            const shouldHaveEarned = earnings.dailyWage * earnings.workDays;
            const shouldRemain = shouldHaveEarned - financial.spentSoFar - financial.plannedExpenses;
            
            document.getElementById('total-weekly-earnings').textContent = totalWeeklyEarnings.toFixed(0) + '‚Ç∫';
            document.getElementById('should-have-earned').textContent = shouldHaveEarned.toFixed(0) + '‚Ç∫';
            document.getElementById('should-remain').textContent = shouldRemain.toFixed(0) + '‚Ç∫';
            
            const adviceContainer = document.getElementById('earnings-advice');
            adviceContainer.innerHTML = '';
            
            const actualRemaining = financial.earnedSoFar - financial.spentSoFar;
            
            if (actualRemaining > shouldRemain) {
                adviceContainer.innerHTML = '<div class="info-box success"><div class="info-title">Harika!</div><div class="info-text">ƒ∞yi gidiyorsun, planƒ±n √ºst√ºndesin.</div></div>';
            } else if (actualRemaining < shouldRemain * 0.7) {
                adviceContainer.innerHTML = '<div class="info-box danger"><div class="info-title">Dikkat!</div><div class="info-text">Fazla harcƒ±yorsun, dikkatli ol.</div></div>';
            } else if (earnings.daysOff > 0) {
                adviceContainer.innerHTML = '<div class="info-box warning"><div class="info-title">Uyarƒ±</div><div class="info-text">ƒ∞zin g√ºnleri kazancƒ±nƒ± azaltƒ±yor.</div></div>';
            } else {
                adviceContainer.innerHTML = '<div class="info-box"><div class="info-title">ƒ∞yi</div><div class="info-text">B√ºt√ße dengede g√∂r√ºn√ºyor.</div></div>';
            }
        }

        // HARCAMALAR
        let expenses = loadData('expenses', []);

        function addExpense() {
            const desc = document.getElementById('expense-desc').value;
            const amount = parseFloat(document.getElementById('expense-amount').value);
            const category = document.getElementById('expense-category').value;
            const date = document.getElementById('expense-date').value;
            
            if (!desc || !amount || !date) {
                showNotification('L√ºtfen t√ºm alanlarƒ± doldurun');
                return;
            }
            
            expenses.push({
                id: Date.now(),
                desc,
                amount,
                category,
                date
            });
            
            saveData('expenses', expenses);
            
            document.getElementById('expense-desc').value = '';
            document.getElementById('expense-amount').value = '';
            document.getElementById('expense-date').value = '';
            
            loadExpensesData();
            showNotification('Harcama eklendi');
        }

        function deleteExpense(id) {
            if (confirm('Bu harcamayƒ± silmek istediƒüinizden emin misiniz?')) {
                expenses = expenses.filter(e => e.id !== id);
                saveData('expenses', expenses);
                loadExpensesData();
                showNotification('Harcama silindi');
            }
        }

        function loadExpensesData() {
            expenses = loadData('expenses', []);
            
            const total = expenses.reduce((sum, e) => sum + e.amount, 0);
            
            const now = new Date();
            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);
            const monthly = expenses.filter(e => new Date(e.date) >= monthStart).reduce((sum, e) => sum + e.amount, 0);
            
            document.getElementById('total-expenses').textContent = total.toFixed(0) + '‚Ç∫';
            document.getElementById('monthly-expenses').textContent = monthly.toFixed(0) + '‚Ç∫';
            
            const list = document.getElementById('expenses-list');
            
            if (expenses.length === 0) {
                list.innerHTML = '<div class="empty-state"><div class="empty-icon">üìä</div><div class="empty-text">Hen√ºz harcama kaydƒ± yok</div></div>';
                return;
            }
            
            list.innerHTML = expenses.sort((a, b) => new Date(b.date) - new Date(a.date)).map(e => `
                <div class="list-item">
                    <div class="item-info">
                        <div class="item-title">${e.desc}</div>
                        <div class="item-subtitle">${e.category} ‚Ä¢ ${e.date}</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="item-amount expense">${e.amount.toFixed(0)}‚Ç∫</div>
                        <button class="btn btn-danger" style="padding: 8px 16px; margin: 0; width: auto; font-size: 14px;" onclick="deleteExpense(${e.id})">Sil</button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('expense-date').valueAsDate = new Date();
        }

        // Sƒ∞M√úLASYON
        function simulateDaysOff() {
            const earnings = loadData('earnings', { dailyWage: 0 });
            const daysOff = parseInt(document.getElementById('sim-days-off').value) || 0;
            
            if (!earnings.dailyWage) {
                showNotification('√ñnce g√ºnl√ºk yevmiyeyi ayarlayƒ±n');
                return;
            }
            
            const loss = earnings.dailyWage * daysOff;
            const remaining = (earnings.workDays || 6) - daysOff;
            const newWeekly = earnings.dailyWage * remaining;
            
            const result = document.getElementById('sim-off-result');
            result.innerHTML = `
                <div class="divider"></div>
                <div class="stats-grid">
                    <div class="stat-card full-width">
                        <div class="stat-label">Toplam Kayƒ±p</div>
                        <div class="stat-value danger">${loss.toFixed(0)}‚Ç∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Yeni Haftalƒ±k</div>
                        <div class="stat-value">${newWeekly.toFixed(0)}‚Ç∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Kalan G√ºn</div>
                        <div class="stat-value">${remaining}</div>
                    </div>
                </div>
            `;
        }

        function simulateExtraDays() {
            const earnings = loadData('earnings', { dailyWage: 0 });
            const extraDays = parseInt(document.getElementById('sim-extra-days').value) || 0;
            
            if (!earnings.dailyWage) {
                showNotification('√ñnce g√ºnl√ºk yevmiyeyi ayarlayƒ±n');
                return;
            }
            
            const gain = earnings.dailyWage * extraDays;
            const newWeekly = earnings.dailyWage * ((earnings.workDays || 6) + extraDays);
            
            const result = document.getElementById('sim-extra-result');
            result.innerHTML = `
                <div class="divider"></div>
                <div class="stats-grid">
                    <div class="stat-card full-width">
                        <div class="stat-label">Ekstra Kazan√ß</div>
                        <div class="stat-value success">+${gain.toFixed(0)}‚Ç∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Yeni Haftalƒ±k</div>
                        <div class="stat-value">${newWeekly.toFixed(0)}‚Ç∫</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Toplam G√ºn</div>
                        <div class="stat-value">${(earnings.workDays || 6) + extraDays}</div>
                    </div>
                </div>
            `;
        }

        // Zƒ∞Kƒ∞R
        let currentZikirMode = 'free';
        let freeZikir = loadData('freeZikir', 0);
        let tesbihData = loadData('tesbih', { phase: 0, count: 0 });
        let zikir33Data = loadData('zikir33', { phase: 0, count: 0 });
        let ihlasCount = loadData('ihlas', 0);

        const tesbihPhases = [
            { name: 'Subhanallah', target: 33 },
            { name: 'Elhamd√ºlillah', target: 33 },
            { name: 'Allahu Ekber', target: 34 }
        ];

        const zikir33Phases = [
            { name: 'Estaƒüfirullah', target: 33 },
            { name: 'Allah√ºmme Salli', target: 33 },
            { name: 'La ilahe illallah', target: 33 }
        ];

        function switchZikirMode(mode) {
            currentZikirMode = mode;
            
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.zikir-panel').forEach(panel => panel.style.display = 'none');
            document.getElementById('zikir-' + mode).style.display = 'block';
            
            updateZikirDisplay();
        }

        function incrementFreeZikir() {
            freeZikir++;
            saveData('freeZikir', freeZikir);
            updateZikirDisplay();
        }

        function resetFreeZikir() {
            if (confirm('Serbest zikir sayacƒ±nƒ± sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                freeZikir = 0;
                saveData('freeZikir', freeZikir);
                updateZikirDisplay();
                showNotification('Saya√ß sƒ±fƒ±rlandƒ±');
            }
        }

        function incrementTesbih() {
            const phase = tesbihPhases[tesbihData.phase];
            tesbihData.count++;
            
            if (tesbihData.count >= phase.target) {
                if (tesbihData.phase < tesbihPhases.length - 1) {
                    tesbihData.phase++;
                    tesbihData.count = 0;
                    showNotification(phase.name + ' tamamlandƒ±!');
                } else {
                    showNotification('T√ºm tesbihatlar tamamlandƒ±!');
                    tesbihData = { phase: 0, count: 0 };
                }
            }
            
            saveData('tesbih', tesbihData);
            updateZikirDisplay();
        }

        function resetTesbih() {
            if (confirm('Tesbihat sayacƒ±nƒ± sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                tesbihData = { phase: 0, count: 0 };
                saveData('tesbih', tesbihData);
                updateZikirDisplay();
                showNotification('Tesbihat sƒ±fƒ±rlandƒ±');
            }
        }

        function incrementZikir33() {
            const phase = zikir33Phases[zikir33Data.phase];
            zikir33Data.count++;
            
            if (zikir33Data.count >= phase.target) {
                if (zikir33Data.phase < zikir33Phases.length - 1) {
                    zikir33Data.phase++;
                    zikir33Data.count = 0;
                    showNotification(phase.name + ' tamamlandƒ±!');
                } else {
                    showNotification('T√ºm zikirler tamamlandƒ±!');
                    zikir33Data = { phase: 0, count: 0 };
                }
            }
            
            saveData('zikir33', zikir33Data);
            updateZikirDisplay();
        }

        function resetZikir33() {
            if (confirm('Zikir sayacƒ±nƒ± sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                zikir33Data = { phase: 0, count: 0 };
                saveData('zikir33', zikir33Data);
                updateZikirDisplay();
                showNotification('Zikir sƒ±fƒ±rlandƒ±');
            }
        }

        function incrementIhlas() {
            ihlasCount++;
            
            if (ihlasCount >= 40000) {
                showNotification('40.000 ƒ∞hlas tamamlandƒ±! Saya√ß sƒ±fƒ±rlanƒ±yor...');
                ihlasCount = 0;
            }
            
            saveData('ihlas', ihlasCount);
            updateZikirDisplay();
        }

        function updateZikirDisplay() {
            document.getElementById('free-count').textContent = freeZikir;
            
            const tesbihPhase = tesbihPhases[tesbihData.phase];
            document.getElementById('tesbih-current-name').textContent = tesbihPhase.name;
            document.getElementById('tesbih-count').textContent = tesbihData.count;
            document.getElementById('tesbih-label').textContent = tesbihData.count + ' / ' + tesbihPhase.target;
            document.getElementById('tesbih-progress').style.width = ((tesbihData.count / tesbihPhase.target) * 100) + '%';
            
            const zikir33Phase = zikir33Phases[zikir33Data.phase];
            document.getElementById('zikir33-current-name').textContent = zikir33Phase.name;
            document.getElementById('zikir33-count').textContent = zikir33Data.count;
            document.getElementById('zikir33-label').textContent = zikir33Data.count + ' / ' + zikir33Phase.target;
            document.getElementById('zikir33-progress').style.width = ((zikir33Data.count / zikir33Phase.target) * 100) + '%';
            
            document.getElementById('ihlas-count').textContent = ihlasCount.toLocaleString();
            document.getElementById('ihlas-remaining').textContent = (40000 - ihlasCount).toLocaleString();
            const ihlasPercent = ((ihlasCount / 40000) * 100).toFixed(1);
            document.getElementById('ihlas-progress').style.width = ihlasPercent + '%';
            document.getElementById('ihlas-percent').textContent = ihlasPercent + '%';
        }

        // ANA PANEL
        function updateHomePage() {
            const earnings = loadData('earnings', { dailyWage: 0, workDays: 6, daysOff: 0, extraDays: 0 });
            const financial = loadData('financialStatus', { earnedSoFar: 0, spentSoFar: 0, plannedExpenses: 0 });
            const expenses = loadData('expenses', []);
            
            const totalExpenses = expenses.reduce((sum, e) => sum + e.amount, 0);
            const actualWorkDays = earnings.workDays - earnings.daysOff + earnings.extraDays;
            const weeklyEarnings = earnings.dailyWage * actualWorkDays;
            const remaining = financial.earnedSoFar - financial.spentSoFar;
            
            document.getElementById('home-weekly-earnings').textContent = weeklyEarnings.toFixed(0) + '‚Ç∫';
            document.getElementById('home-remaining').textContent = remaining.toFixed(0) + '‚Ç∫';
            document.getElementById('home-daily-wage').textContent = earnings.dailyWage.toFixed(0) + '‚Ç∫';
            document.getElementById('home-earned-so-far').textContent = financial.earnedSoFar.toFixed(0) + '‚Ç∫';
            document.getElementById('home-total-spent').textContent = totalExpenses.toFixed(0) + '‚Ç∫';
            
            const adviceContainer = document.getElementById('home-advice');
            
            if (remaining > weeklyEarnings * 0.7) {
                adviceContainer.innerHTML = '<div class="info-box success"><div class="info-title">M√ºkemmel!</div><div class="info-text">Finansal durumun √ßok iyi, b√∂yle devam et.</div></div>';
            } else if (remaining < weeklyEarnings * 0.3) {
                adviceContainer.innerHTML = '<div class="info-box danger"><div class="info-title">Dikkat!</div><div class="info-text">Harcamalarƒ±nƒ± kontrol altƒ±na al.</div></div>';
            } else if (earnings.daysOff > 0 && earnings.extraDays === 0) {
                adviceContainer.innerHTML = '<div class="info-box warning"><div class="info-title">√ñneri</div><div class="info-text">ƒ∞zin g√ºnlerini telafi etmek i√ßin ekstra √ßalƒ±≈üma faydalƒ± olabilir.</div></div>';
            } else {
                adviceContainer.innerHTML = '<div class="info-box"><div class="info-title">ƒ∞yi</div><div class="info-text">Dengeli bir durumdasƒ±n.</div></div>';
            }
        }

        // AYARLAR
        function resetAllData() {
            if (confirm('T√ºm verileri silmek istediƒüinizden EMƒ∞N Mƒ∞Sƒ∞Nƒ∞Z? Bu i≈ülem geri alƒ±namaz!')) {
                localStorage.clear();
                location.reload();
            }
        }

        function resetEarningsData() {
            if (confirm('Kazan√ß verilerini sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                localStorage.removeItem('earnings');
                localStorage.removeItem('financialStatus');
                showNotification('Kazan√ß verileri sƒ±fƒ±rlandƒ±');
                loadEarningsData();
            }
        }

        function resetExpensesData() {
            if (confirm('Harcama verilerini sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                localStorage.removeItem('expenses');
                expenses = [];
                showNotification('Harcama verileri sƒ±fƒ±rlandƒ±');
                loadExpensesData();
            }
        }

        function resetZikirData() {
            if (confirm('Zikir verilerini sƒ±fƒ±rlamak istediƒüinizden emin misiniz?')) {
                localStorage.removeItem('freeZikir');
                localStorage.removeItem('tesbih');
                localStorage.removeItem('zikir33');
                localStorage.removeItem('ihlas');
                freeZikir = 0;
                tesbihData = { phase: 0, count: 0 };
                zikir33Data = { phase: 0, count: 0 };
                ihlasCount = 0;
                showNotification('Zikir verileri sƒ±fƒ±rlandƒ±');
                updateZikirDisplay();
            }
        }

        // ƒ∞lk y√ºkleme
        window.addEventListener('DOMContentLoaded', () => {
            updateHomePage();
            loadEarningsData();
            loadExpensesData();
            updateZikirDisplay();
            drawHomeChart();
            document.getElementById('expense-date').valueAsDate = new Date();
        });
    </script>
</body>
</html>
